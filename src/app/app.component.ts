import { Component } from '@angular/core';
import { Recipe, ValueTypes } from './_core/models/recipe';

@Component({
  selector: 'app-root',
  templateUrl: './app.component.html',
  styleUrls: ['./app.component.scss']
})
export class AppComponent {
  title = 'recipes-book';
  mockRecipesData: Recipe[] = [
    {
      id: 'f6b5141e-95a4-405e-912d-22bd925fa0f8',
      date: new Date('10.23.22'),
      duration: 41,
      title: 'Брауни (brownie)',
      subtitle: 'Рецепт этого брауни очень простой, тут нет каких-то сложных процессов, с которыми вы можете не справиться, а я, в свою очередь, постаралась подробно описать все нюансы.',
      description: 'Один из самых популярных десертов в мире — брауни — был придуман в 1893 году на кухне легендарного отеля Palmer House в Чикаго. Этот пирог там пекут до сих пор по оригинальному рецепту, покрывая сверху абрикосовой глазурью. В домашней версии, впрочем, у брауни получается такая изумительная сахарная корочка, что глазировать ее было бы преступлением. У традиционных шоколадных брауни ванильный аромат, хрустящая корочка и влажная серединка. В торт также добавляют грецкие орехи или фисташки, а еще клюкву.',
      ingredients: [
        {
          name: 'Тёмный шоколад',
          value: '100',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Сливочное масло',
          value: '180',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Коричневый сахар',
          value: '200',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Куриное яйцо',
          value: '4',
          valueType: ValueTypes.Count
        },
        {
          name: 'Пшеничная мука',
          value: '100',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Грецкие орехи',
          value: '100',
          valueType: ValueTypes.Weight
        }
      ],
      steps: [
        {
          value: 'Шоколад разломать на кусочки и вместе со сливочным маслом растопить на водяной бане, не переставая все время помешивать лопаткой или деревянной ложкой. Получившийся густой шоколадный соус снять с водяной бани и оставить остывать.'
        },
        {
          value: 'Тем временем смешать яйца со ста граммами коричневого сахара: яйца разбить в отдельную миску и взбить, постепенно добавляя сахар. Взбивать можно при помощи миксера или вручную — как больше нравится, — но не меньше двух с половиной-трех минут.'
        },
        {
          value: 'Острым ножом на разделочной доске порубить грецкие орехи. Предварительно их можно поджарить на сухой сковороде до появления аромата, но это необязательная опция.'
        },
        {
          value: 'В остывший растопленный со сливочным маслом шоколад аккуратно добавить оставшийся сахар, затем муку и измельченные орехи и все хорошо перемешать венчиком.'
        },
        {
          value: 'Затем влить сахарно-яичную смесь и тщательно смешать с шоколадной массой. Цвет у теста должен получиться равномерным, без разводов.'
        },
        {
          value: 'Разогреть духовку до 200 градусов. Дно небольшой глубокой огнеупорной формы выстелить листом бумаги для выпечки или калькой. Перелить тесто в форму. Поставить в духовку и выпекать двадцать пять — тридцать минут до появления сахарной корочки.'
        },
        {
          value: 'Готовый пирог вытащить из духовки, дать остыть и нарезать на квадратики острым ножом или ножом для пиццы — так кусочки получатся особенно ровными.'
        },
        {
          value: 'Подавать брауни можно просто так, а можно посыпать сверху сахарной пудрой или разложить квадратики по тарелкам и украсить каждую порцию шариком ванильного мороженого.'
        }
      ]
    },
    {
      id: 'ec7a5352-d02e-40f0-bad0-d4dcabd11223',
      date: new Date('10.27.22'),
      duration: 30,
      title: 'Сырники из творога',
      subtitle: 'Сырники классические — одно из самых простых блюд, с которых многие начинают знакомство с кулинарией. ',
      description: 'Главный секрет идеальных сырников — а точнее творожников, — творог нужно протереть через мелкое сито и отжать от влаги. Жирность предпочтительна не больше и не меньше 9%. Тесто должно получиться эластичным, чтобы при надавливании сырник не треснул на сковородке, а сохранил форму. Если все сделать правильно, получатся нежные однородные кругляшки под плотной румяной корочкой. Сырники можно запекать в духовке или готовить на пару. В рецепте не исключаются эксперименты с начинкой — сухофрукты, орехи, свежие фрукты и даже картофель лишними не будут. Приятного аппетита!',
      ingredients: [
        {
          name: 'Творог',
          value: '350',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Куриное яйцо',
          value: '2',
          valueType: ValueTypes.Count
        },
        {
          name: 'Пшеничная мука',
          value: '6',
          valueType: ValueTypes.Spoons
        },
        {
          name: 'Сахар',
          value: '2',
          valueType: ValueTypes.Spoons
        },
        {
          name: 'Подсолнечное масло',
          value: '5',
          valueType: ValueTypes.Spoons
        }
      ],
      steps: [
        {
          value: 'Положите весь творог в кастрюльку и разомните его вилкой так, чтобы в нем не осталось крупных комков. Разбейте в него яйца, всыпьте сахар и тщательно все перемешайте. Лучше не использовать слишком сухой или слишком влажный творог, иначе сырники будут разваливаться в процессе приготовления.'
        },
        {
          value: 'Всыпьте в творог 5 столовых ложек (с горкой) муки и тщательно перемешайте. Можно добавить немного больше муки, сырники получатся тогда более плотными. Или муки можно добавить чуть меньше, и тогда сырники будут нежнее. В итоге у вас должна получиться однородная масса, из которой можно будет лепить сырники.'
        },
        {
          value: 'Поставьте сковороду на средний огонь и налейте в нее подсолнечное масло.'
        },
        {
          value: 'Насыпьте на тарелку немного муки. Слепите несколько небольших шариков из получившейся творожной массы и положите их на тарелку. Лучше лепить разом 4–5 шариков — столько, сколько поместится одновременно на сковороду. Затем по очереди обкатывайте творожные шарики в муке, плющите их в небольшие лепешки (они не должны быть слишком тонкие) и выкладывайте на сковороду.'
        },
        {
          value: 'Обжаривайте сырники 1–2 минуты до появления золотистой корочки. Затем переверните их на другую сторону и также обжарьте до золотистого состояния.'
        },
        {
          value: 'Повторяйте, пока творог не закончится.'
        }
      ]
    },
    {
      id: '75156a27-43e7-4092-9fd8-b44cf8b73965',
      date: new Date('12.01.22'),
      duration: 85,
      title: 'Спагетти карбонара со сливками',
      subtitle: 'Спагетти карбонара — хоть блюдо и итальянское, оно имеет хорошую популярность во всем мире, в том числе и у нас. Изобретенная когда-то простыми шахтерами, эта простая и сытная паста завоевала сердца и желудки многих.',
      description: 'Для карбонары нужно выбирать такие ломтики бекона, где больше мяса и меньше жира. Если его будет много, то, вытапливаясь при готовке, он сделает пасту слишком тяжелой. Можно подавить чеснок и бросить в поджарку. Но, чтобы блюдо приобрело утонченный, еле уловимый аромат, достаточно потомить ломтики чеснока в масле и убрать из сковороды спустя пару минут. Не обязательно использовать в рецепте карбонары спагетти — выбирайте любимые макароны из 500 видов всевозможной пасты. Но только из твердых сортов пшеницы.',
      ingredients: [
        {
          name: 'Спагетти',
          value: '250',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Сливочное масло',
          value: '20',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Чеснок',
          value: '2',
          valueType: ValueTypes.Count
        },
        {
          name: 'Красный лук',
          value: '1',
          valueType: ValueTypes.Count
        },
        {
          name: 'Бекон',
          value: '50',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Сливки 20%-ные',
          value: '200',
          valueType: ValueTypes.Volume
        },
        {
          name: 'Тертый сыр пармезан',
          value: '50',
          valueType: ValueTypes.Weight
        },
        {
          name: 'Куриное яйцо',
          value: '4',
          valueType: ValueTypes.Count
        },
        {
          name: 'Соль',
          value: '',
          valueType: ValueTypes.Any
        },
        {
          name: 'Молотый черный перец',
          value: '',
          valueType: ValueTypes.Any
        }
      ],
      steps: [
        {
          value: 'Вскипятите воду в большой кастрюле и сварите пасту до состояния аль денте. Обычно для этого нужно варить ее на минуту меньше, чем указано на пачке.'
        },
        {
          value: 'Пока паста варится, растопите на сковороде масло и обжарьте на нем мелко нарезанные лук, чеснок и бекон. До мягкости и до отчетливого чесночного и жаренобеконного запаха.'
        },
        {
          value: 'Снимите сковороду с огня и в глубокой миске взбейте четыре яичных желтка со сливками и тертым пармезаном. Посолите и поперчите смесь, еще раз взбейте.'
        },
        {
          value: 'В готовые спагетти вывалите обжаренные с луком и чесноком кусочки бекона. Влейте смесь сливок, желтков и пармезана, перемешайте. И сразу подавайте, посыпав свеженатертым сыром и черным молотым перцем.'
        }
      ]
    },
    {
      id: '7b51c91d-0334-4182-9777-5917133523f2',
      date: new Date(),
      duration: 40,
      title: '- no - data -',
      subtitle: '',
      description: '',
      ingredients: [
        {
          name: '',
          value: '100',
          valueType: ValueTypes.Weight
        },
        {
          name: '',
          value: '180',
          valueType: ValueTypes.Weight
        },
        {
          name: '',
          value: '200',
          valueType: ValueTypes.Weight
        },
        {
          name: '',
          value: '4',
          valueType: ValueTypes.Count
        },
        {
          name: '',
          value: '100',
          valueType: ValueTypes.Weight
        },
        {
          name: '',
          value: '100',
          valueType: ValueTypes.Weight
        }
      ],
      steps: [
        {
          value: ''
        },
        {
          value: ''
        },
        {
          value: ''
        },
        {
          value: ''
        },
        {
          value: ''
        },
        {
          value: ''
        },
        {
          value: ''
        },
        {
          value: ''
        }
      ]
    }
  ];

  constructor() {
    let recipesStr = localStorage.getItem('recipes');
    if (recipesStr === null) {
      localStorage.setItem('recipes', JSON.stringify(this.mockRecipesData));
    } else {
      this.mockRecipesData = JSON.parse(recipesStr) as Recipe[];
    }
  }
}
